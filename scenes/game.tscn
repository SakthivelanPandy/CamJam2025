[gd_scene load_steps=17 format=3 uid="uid://cu7i07kk6r2b4"]

[ext_resource type="Texture2D" uid="uid://d3qn8yxwl7yiv" path="res://assets/map.jpg" id="1_kodbk"]
[ext_resource type="PackedScene" uid="uid://cekpla2ei26xj" path="res://scenes/player.tscn" id="1_m6tli"]
[ext_resource type="PackedScene" uid="uid://c01jirk7b6q5d" path="res://scenes/game_manager.tscn" id="1_yl8nb"]
[ext_resource type="PackedScene" uid="uid://wknarr7c1ph7" path="res://scenes/apple.tscn" id="3_evuhy"]
[ext_resource type="PackedScene" uid="uid://e7wl1df20b7n" path="res://scenes/orange.tscn" id="3_wkiu2"]
[ext_resource type="PackedScene" uid="uid://7pxcubd0ipw1" path="res://scenes/inventory_label.tscn" id="4_0l600"]
[ext_resource type="PackedScene" uid="uid://cooyd5aavaxev" path="res://scenes/merchant.tscn" id="4_dgnbm"]
[ext_resource type="PackedScene" uid="uid://ny55m23gad8h" path="res://scenes/house.tscn" id="5_5q3dm"]
[ext_resource type="PackedScene" uid="uid://ddr8pjaspmf28" path="res://scenes/Enemy.tscn" id="5_u54jj"]
[ext_resource type="PackedScene" uid="uid://ddlqdeajc6poe" path="res://scenes/task_label.tscn" id="6_5m5co"]
[ext_resource type="AudioStream" uid="uid://vjeq305x7s2f" path="res://assets/Music/background.mp3" id="8_sxxbm"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_m36pm"]
size = Vector2(148.333, 411.666)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_qcjxi"]
size = Vector2(331.667, 528.75)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_y8jhy"]
size = Vector2(265, 2717.08)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_smdp8"]
size = Vector2(1663.5, 177)

[sub_resource type="LabelSettings" id="LabelSettings_lbbu4"]
font_size = 72

[node name="Game" type="Node2D"]
position = Vector2(18, 0)

[node name="Map" type="Sprite2D" parent="."]
texture = ExtResource("1_kodbk")

[node name="StaticBody2D" type="StaticBody2D" parent="."]
position = Vector2(196, 25)
scale = Vector2(0.6, 0.6)

[node name="CollisionShape2D" type="CollisionShape2D" parent="StaticBody2D"]
position = Vector2(-180.833, -144.167)
shape = SubResource("RectangleShape2D_m36pm")

[node name="StaticBody2D2" type="StaticBody2D" parent="."]
position = Vector2(82, 246)
scale = Vector2(0.6, 0.6)

[node name="CollisionShape2D" type="CollisionShape2D" parent="StaticBody2D2"]
position = Vector2(638.333, 655.417)
shape = SubResource("RectangleShape2D_qcjxi")

[node name="StaticBody2D3" type="StaticBody2D" parent="."]
position = Vector2(82, 246)
scale = Vector2(0.6, 0.6)

[node name="CollisionShape2D" type="CollisionShape2D" parent="StaticBody2D3"]
position = Vector2(1029.17, 37.7083)
shape = SubResource("RectangleShape2D_qcjxi")

[node name="StaticBody2D4" type="StaticBody2D" parent="."]
position = Vector2(82, 246)
scale = Vector2(0.6, 0.6)

[node name="CollisionShape2D" type="CollisionShape2D" parent="StaticBody2D4"]
position = Vector2(1250, -414.167)
shape = SubResource("RectangleShape2D_y8jhy")

[node name="StaticBody2D6" type="StaticBody2D" parent="."]
position = Vector2(82, 246)
scale = Vector2(0.6, 0.6)

[node name="CollisionShape2D" type="CollisionShape2D" parent="StaticBody2D6"]
position = Vector2(-1606.67, -423.542)
shape = SubResource("RectangleShape2D_y8jhy")

[node name="StaticBody2D7" type="StaticBody2D" parent="."]
position = Vector2(0, -1.52588e-05)

[node name="CollisionShape2D" type="CollisionShape2D" parent="StaticBody2D7"]
position = Vector2(-41.25, 890)
shape = SubResource("RectangleShape2D_smdp8")

[node name="StaticBody2D8" type="StaticBody2D" parent="."]
position = Vector2(0, -1.52588e-05)

[node name="CollisionShape2D" type="CollisionShape2D" parent="StaticBody2D8"]
position = Vector2(8, -881)
shape = SubResource("RectangleShape2D_smdp8")

[node name="Apple" parent="." instance=ExtResource("3_evuhy")]
position = Vector2(-607, -230)
scale = Vector2(0.2, 0.2)
refresh_time = 5.0

[node name="Apple2" parent="." instance=ExtResource("3_evuhy")]
position = Vector2(292, -460)
scale = Vector2(0.3, 0.3)
ingredient_id = "apple2"
refresh_time = 5.0

[node name="Orange" parent="." instance=ExtResource("3_wkiu2")]
position = Vector2(-569, 193)
move_area = Rect2(-800, -700, 1300, 1300)
move_speed = 0.2
ingredient_name = "orange"
ingredient_id = "orange1"
refresh_time = 2.0
metadata/ingredient_name = "orange"

[node name="merchant" parent="." instance=ExtResource("4_dgnbm")]
position = Vector2(-194, 487)
scale = Vector2(5, 3.055)

[node name="Enemy" parent="." instance=ExtResource("5_u54jj")]
visible = false
position = Vector2(-556, 421)

[node name="Player" parent="." instance=ExtResource("1_m6tli")]
position = Vector2(367, 164)
scale = Vector2(0.6, 0.6)

[node name="Camera2D" type="Camera2D" parent="Player"]
position = Vector2(23.3333, -11.6667)
limit_left = -700
limit_top = -700
limit_right = 700
limit_bottom = 770

[node name="gameManager" parent="." instance=ExtResource("1_yl8nb")]

[node name="Area2D" parent="." instance=ExtResource("5_5q3dm")]
visible = false
position = Vector2(-398, -738)

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="TaskLabel" parent="CanvasLayer" instance=ExtResource("6_5m5co")]
offset_left = 296.0
offset_top = 1.0
offset_right = 358.0
offset_bottom = 24.0
text = "No Task"

[node name="InventoryLabel" parent="CanvasLayer" instance=ExtResource("4_0l600")]
offset_left = 40.0
offset_top = -1.0
offset_right = 115.0
offset_bottom = 22.0

[node name="DeathScreen" type="ColorRect" parent="CanvasLayer"]
visible = false
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
color = Color(0, 0, 0, 1)

[node name="Label" type="Label" parent="CanvasLayer/DeathScreen"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
text = "You Died"
label_settings = SubResource("LabelSettings_lbbu4")
horizontal_alignment = 1
vertical_alignment = 1

[node name="Music" type="AudioStreamPlayer2D" parent="."]
position = Vector2(465, -433)
stream = ExtResource("8_sxxbm")
autoplay = true
bus = &"Background Music"

[connection signal="update_task" from="gameManager" to="CanvasLayer/TaskLabel" method="_on_game_manager_update_task"]
